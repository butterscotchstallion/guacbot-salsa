
<div class="row">
    <div class="col-md-12">
        <div class="alert alert-success alert-dismissible save-successful-msg plugin-message-alert hidden" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <strong>Huzzah!</strong> Message saved.
        </div>
        
        <div class="alert alert-danger alert-dismissible save-failure-msg plugin-message-alert hidden" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <strong>Ack!</strong> There was a problem saving this message.
        </div>
    </div>
</div>

<div class="row parse-error-container hidden">
    <div class="col-md-12">
        <div class="alert alert-danger alert-dismissible" role="alert">
            <button type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <strong>Danger!</strong> There was a problem parsing your message.
        </div>   
    </div>
</div>

<div class="row">
    <div class="col-md-7">
        <h2 class="subheader">Name</h2>        
    </div>
    
    <div class="col-md-5 plugin-message-controls">
        <div class="btn-toolbar pull-right" role="toolbar">
            <div class="btn-group">
                <a href="#" 
                   data-target="#delete-modal"
                   data-toggle="modal"
                   class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span> Delete</a>
            </div>
            
            <div class="btn-group">
                <a href="/plugins/{{plugin_id}}/messages/add"
                   class="btn btn-info add-button"><span class="glyphicon glyphicon-plus"></span> Add</a>
            </div>

            <div class="btn-group">                    
                <button type="button"
                        class="btn btn-success save-message"><span class="glyphicon glyphicon-ok"></span> Save changes</button>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <input type="text"
               class="form-control input-lg"
               id="plugin-message-name"
               value="{{name}}"
               maxlength="45">
    </div>
</div>

<div class="row">
    <div class="col-md-12">        
        <div class="message-preview monospace">
            {{{compiledMessage}}}
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h2 class="subheader">Message</h2>
        <p class="help-block"><span class="glyphicon glyphicon-cog"></span> This message is compiled by Handlebars.</p>
        
        <form method="post" action="">
            <div class="form-group message-container">
                <textarea class="form-control message monospace parse-me" 
                          data-container=".message-container"
                          rows="10">{{message}}</textarea>
                <p class="help-block">Some words are surrounded by strings like <code>\u0002</code>. This is the formatting code for bold and colors in the IRC protocol.</p>
            </div>
        </form>
    </div>
    
    <div class="col-md-6">
        <h2 class="subheader">Template Variables</h2>
        <p class="help-block">The properties of this object are available in the template.</p>
        
        <div class="form-group template-object-container">
            <textarea class="form-control template-object monospace parse-me" 
                      data-container=".template-object-container"
                      rows="10">{{templateObject}}</textarea>
        </div>
    </div>
</div>

<div class="modal fade" id="delete-modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">Delete Plugin Message</h4>
            </div>
          
            <div class="modal-body">
                <p>Are you sure you want to delete this plugin message?</p>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" 
                        data-loading-text="Deleting..."
                        class="btn btn-danger delete-button"><span class="glyphicon glyphicon-trash"></span> Delete Plugin Message</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

